
<style>
pre {
	padding: 20px;
	width:460px;
	border-radius: 10px;
	background:#DDD;
	color:#666;
	font-size:16px;
}
</style>

<script type="text/javascript" src="crossbreed.js"></script>
<script>
function run(){
	var script = "";
	var scriptNames = ["Pony","Unicorn","Pegasus","Alicorn"];
	for(var i=0;i<scriptNames.length;i++){
		script += document.getElementById("script_"+scriptNames[i]).innerHTML+";";
	}
	eval(script);
}
</script>


<div style="width:500px;float:left">

<pre id="script_Pony" contenteditable='true'>
Class.create( "Pony", {
    info: "I'm a pony",
    addInfo: function(info){
        this.info += " "+info;
    },
    speak: function(){
        console.log(this.info);
    }
});

var Applejack = new Pony(); 
Applejack.speak();
</pre>

<pre id="script_Unicorn" contenteditable='true'>
Class.create( "Unicorn", {
    is: "Pony",
    initialize: function(){
        this.addInfo("who's magical");
    }
});

var Rarity = new Unicorn(); 
Rarity.speak();
</pre>

<pre id="script_Pegasus" contenteditable='true'>
Class.create( "Pegasus", {
    is: "Pony",
    initialize: function(){
        this.addInfo("who can fly");
    }
});

var Dashy = new Pegasus();
Dashy.speak();
</pre>

<pre id="script_Alicorn" contenteditable='true'>
Class.create( "Alicorn", {
    is: ["Unicorn", "Pegasus"],
    initialize: function(){
        this.super.Unicorn();
        this.addInfo("AND");
        this.super.Pegasus();
    }
});

var Celestia = new Alicorn();
Celestia.speak();
</pre>

</div>
<div style="width:500px;height:100%;float:left">

</div>

<!--script>

// CRUELETTE: Aww, Aww, Aww, AwWOHGOD

// MORE TEST CASES: Extra attributes, extra functions...
// The _inheriting to prevent certain... things...?


</script-->

<script>
	//First, create a Class by passing in a name and properties. 
//If provided, the "initialize" method will be called as a constructor.

	Class.create( "Pony", {

		name: "My Name",
		info: "I'm a pony",

		initialize: function(name){
			this.name = name;
		},
		addInfo: function(info){
			this.info += " "+info;
		},
		speak: function(){
			alert(this.name+" speaking, "+this.info);
		}

	});

	var Applejack = new Pony("Applejack"); 
	Applejack.speak(); // Applejack speaking, I'm a pony

//To extend from a Class, include an "is" property with the name of the parent Class.
//Calling this.super() within a function will invoke the parent Class's method of the same name.

	Class.create( "Unicorn", {
		is: "Pony",
		initialize: function(name){
			this.super(name);
			this.addInfo("who's magical");
		}
	});

	var Rarity = new Unicorn("Rarity"); 
	Rarity.speak(); // Rarity speaking, I'm a pony who's magical

	Class.create( "Pegasus", {
		is: "Pony",
		initialize: function(name){
			this.super(name);
			this.addInfo("who can fly");
		}
	});

	var Fluttershy = new Pegasus("Fluttershy");
	Fluttershy.speak(); // Fluttershy speaking, I'm a pony who can fly

//Now the juicy part... To extend from multiple Classes, include an Array of parent Class names.
//Invoke this.super[ParentClass] to get that parent Class's method.

	Class.create( "Alicorn", {
		is: ["Unicorn", "Pegasus"],
		initialize: function(name){
			this.super.Unicorn(name);
			this.addInfo("AND");
			this.super.Pegasus(name);
		}
	});

	var Celestia = new Alicorn("Celestia");
	Celestia.speak(); // Celestia speaking, I'm a pony who's magical AND who can fly

//That's all the practical usage I'll ever need.
</script>